<div id="left-bar" class="flex flex-column">
    <form class="flex" id="search-form" [formGroup]="search_form">
        <ul class="flex-1">
            <li class="p-3 pb-0 flex-column start">
                <h4>Text</h4>
                <div id="text-radio-button" class="pt-2 p-inputgroup">
                    <input id="float-input" type="text" [placeholder]="!search_form.get('greek_mode')?.value  ? 'Eg: legù' : 'Eg: λεγϋ'" formControlName="text" pInputText>   <!-- [(ngModel)]="value2" -->
                    <p-toggleButton formControlName="greek_mode" onIcon="omega" offIcon="latin" [pTooltip]="search_form.get('greek_mode')?.value ? 'Greek Keyboard' : 'Normal keyboard'" tooltipPosition="right"></p-toggleButton>
                </div>
                <div class="grid mt-4">
                    <div class="lg:col-6 md:col-12 sm:col-12 field-radiobutton">
                        <p-radioButton name="search_text_mode" inputId="equals" value="equals" formControlName="search_text_mode"></p-radioButton>
                        <label for="equals">Equals</label>
                    </div>
                    <div class="lg:col-6 md:col-12 sm:col-12 field-radiobutton">
                        <p-radioButton name="search_text_mode" inputId="start" value="start" formControlName="search_text_mode"></p-radioButton>
                        <label for="start">Start</label>
                    </div>
                    <div class="lg:col-6 md:col-12 sm:col-12 field-radiobutton">
                        <p-radioButton name="search_text_mode" inputId="contains" value="contains" formControlName="search_text_mode"></p-radioButton>
                        <label for="contains">Contains</label>
                    </div>
                    <div class="lg:col-6 md:col-12 sm:col-12 field-radiobutton">
                        <p-radioButton name="search_text_mode" inputId="ends" value="ends" formControlName="search_text_mode"></p-radioButton>
                        <label for="ends">Ends</label>

                    </div>
                </div>
            </li>
            <li class="p-3 flex-column start">
                
                <h4>Date</h4>
                <div class="flex pt-2">
                    <p-dropdown [showClear]="true" class="flex-auto" [options]="dates" formControlName="date" optionValue="code" optionLabel="label" placeholder="Eg: 6th century BC">
                        <ng-template let-date pTemplate="item">
                            <div class="country-item">
                                <span class="counter">{{date.label}}</span>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>
                
            </li>
            <li class="p-3 flex-column start">
                
                <h4>Location</h4>
                <div class="flex pt-2">
                    <p-dropdown [showClear]="true" class="flex-auto" [options]="grouped_location" formControlName="location" optionValue="code" optionLabel="label" placeholder="Eg: Padua" [group]="true">
                        <ng-template let-group pTemplate="group">
                            <div class="flex align-items-center">
                                <span class="counter">{{group.label}}</span>
                            </div>
                        </ng-template>

                        <ng-template let-item pTemplate="item">
                            <div class="flex align-items-center">
                                <span class="ml-5">{{item.label}}</span>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>
            </li>
            
            <li class="p-3 flex-column start">
                
                <h4>Type</h4>
                <div class="flex pt-2">
                    <p-dropdown [showClear]="true" class="flex-auto" [options]="types" formControlName="type" optionValue="code" optionLabel="label" placeholder="Eg: sacrifical">
                        <ng-template let-date pTemplate="item">
                            <div class="country-item">
                                <span class="counter">{{date.label}}</span>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>
            </li>
            <li class="p-3 flex-column start">
                
                <h4>Theme</h4>
                <div class="flex pt-2">
                    <p-dropdown [appendTo]="'body'" [showClear]="true" class="flex-auto" [options]="themes" formControlName="type" optionValue="code" optionLabel="label" placeholder="Eg: sacrifical">
                        <ng-template let-theme pTemplate="item">
                            <div class="country-item">
                                <span class="counter">{{theme.label}}</span>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>
            </li>
            <li class="p-3 flex-row start justify-content-between">
                <button pButton pRipple type="button" label="Clear" class="p-button-danger p-button-text" (click)="resetForm()" ></button>
                <button pButton type="button" class="p-button-primary" label="Search" (click)="search()"></button>
            </li>
        </ul>
    </form>
    
</div>

<div id="landing-content" class="flex flex-column flex-1" *ngIf="landing_mode">
    <h1 class="mb-5">Landing Ipsum</h1>
    <p class="mt-5">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ipsum nisl, lobortis ut vestibulum ut, feugiat at sem. In eget tristique sapien, vitae vestibulum lorem. Donec eget leo sem. Nulla mollis condimentum metus ut molestie. Vivamus et mi porttitor, sodales magna ac, volutpat neque. Morbi faucibus nibh eu neque semper, eu ornare risus gravida. Pellentesque id hendrerit felis.</p>
</div>

<div id="search-content" class="flex flex-column flex-1" *ngIf="!landing_mode">
    <div class="flex flex-row align-items-center horizontal-list m-3">
        <div class="occurrences m-3">
            We found <span class="enphatize">{{current_occurences}}</span> files
        </div>
    </div>
    
    <div class="flex flex-column flex-1">
        <div class="flex flex-column flex-auto text-item-container">
            <a class="flex flex-row text-item m-2 " *ngFor="let item of pagination_items" [routerLink]="['/file/'+item.id]">
            
                <div class="flex text-item-id p-2">
                    {{item.id}}
                </div>
        
                <div class="text-item-preview flex-1 ml-3 p-2">
                    
                    <div class="text-item-preview-top">
                        {{item.title}}
                    </div>
        
                    <div class="text-item-preview-bottom flex flex-column justify-content-between mt-3">
                        <div class="flex flex-row align-items-baseline">
                            <i class="far fa-calendar-alt"></i>
                            <span class="ml-2">{{item.date}}</span>
                        </div>
                        <div class="flex flex-row align-items-baseline">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="ml-2">{{item.place}}</span>
                        </div>
                    </div>
                </div>

                <div class="text-item-preview-transcription">
                    <div class=" ml-3 p-2">
                        <div class="text-item-preview-top-transcription">
                            transcr_type
                        </div>
                        <div class="text-item-preview-bottom flex flex-column justify-content-between mt-3">
                            <div class="flex flex-row align-items-baseline p-2 text-container">
                                <p class="ml-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc venenatis vitae est a pretium. Integer commodo quis purus sed consequat. Sed ullamcorper ante et lacus la</p>
                            </div>
                        </div>
                    </div>
                </div>
                
            </a>
        </div>
        
    
    </div>
    <p-paginator #search_text_paginator [rows]="5"  [totalRecords]="filtered_items.length" (onPageChange)="pagination($event)" [showJumpToPageDropdown]="true" [rowsPerPageOptions]="[5,10,15]" ></p-paginator>
</div>